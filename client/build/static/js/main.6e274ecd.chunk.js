(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{133:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(31),o=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,i,l,m,u,p,d,h,g,f,v,b,E,x,w,y=a(9),O=a(14),j=a(10),k=a(11),N=a(15),S=a(16),P=a(142),A=a(141),C=a(77),I=a(143),V=a(6),q=Object(V.b)("store")(c=Object(V.c)(c=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this,t=n.a.createElement(A.a,{md:12,className:"m-t-30"},n.a.createElement(C.a,{variant:"primary",className:"m-r-20",onClick:function(){return e.props.history.push("/login")}},"Sign In"),n.a.createElement(C.a,{variant:"primary",className:"m-r-20",onClick:function(){return e.props.history.push("/registration")}},"Sign Out"));return n.a.createElement(P.a,null,n.a.createElement(I.a,null,n.a.createElement(A.a,{md:6,className:"m-t-120"},n.a.createElement(I.a,null,n.a.createElement(A.a,{md:12},n.a.createElement("h2",null,"Fitnes App"),n.a.createElement("p",{className:"t-a-just m-t-30"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit, sit. At voluptas ex temporibus minus. Dolorem, iure! Odio sapiente natus aliquid a eius sequi quam quia est accusantium, voluptatem eos.")),this.props.store.profileStore.isAuth?null:t)),n.a.createElement(A.a,{md:6,className:"t-a-cen m-t-120"},n.a.createElement("img",{className:"home-main-img"}))))}}]),a}(n.a.Component))||c)||c,U=Object(S.f)(q),L=a(2),F=a.n(L),B=a(34),D=a(13),M=a(144),T=a(148),W=a(58),Q=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;return Object(y.a)(this,a),(r=t.call(this,e)).body=void 0,r.code=void 0,r.body=e,r.code=n,r}return a}(Object(W.a)(Error)),R=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e,r){var n;return Object(y.a)(this,a),(n=t.call(this,e)).body=void 0,n.field=void 0,n.body=e,n.field=r,n}return a}(Object(W.a)(Error)),Y=a(25),G=a.n(Y),J=Object(V.b)("store")(i=Object(V.c)(i=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e){var r;return Object(y.a)(this,a),(r=t.call(this,e)).login=Object(D.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.validation();case 3:return e.next=5,r.props.store.profileStore.setLogin(r.state.email,r.state.password);case 5:r.props.history.push("/profile"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.code?r.setState({passwordError:"",emailError:"",errorView:!0,generalError:e.t0.body}):e.t0.field?(t={},Object(B.a)(t,e.t0.field,e.t0.body.toString()),Object(B.a)(t,"errorView",!0),a=t,r.setState({emailError:"",passwordError:"",generalError:""},(function(){r.setState(a)}))):console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),r.getProfile=Object(D.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.props.store.profileStore.setProfile();case 3:r.props.history.push("/profile"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),r.state={email:"",password:"",emailError:"",passwordError:"",generalError:"",errorView:!1},r}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.getProfile()}},{key:"validation",value:function(){var e=Object(D.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=G.a.object({email:G.a.string().email({tlds:{allow:!1}}).required(),password:G.a.string().min(8).max(30).required()}),e.next=4,t.validateAsync({email:this.state.email,password:this.state.password});case 4:e.next=15;break;case 6:if(e.prev=6,e.t0=e.catch(0),!e.t0.toString().includes("email")){e.next=12;break}throw new R(e.t0.toString(),"emailError");case 12:if(!e.t0.toString().includes("password")){e.next=14;break}throw new R(e.t0.toString(),"passwordError");case 14:throw new R(e.t0,"generalError");case 15:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return n.a.createElement(P.a,null,n.a.createElement(I.a,{className:"justify-content-center m-t-120"},n.a.createElement(A.a,{md:6},n.a.createElement("h4",{className:"m-b-50"},"Sign In:"),n.a.createElement("div",null,n.a.createElement("p",null,"Email:"),n.a.createElement(M.a,{className:"input-wrap"},n.a.createElement(T.a,{type:"email",className:"mb-3",placeholder:"Enter email",onChange:function(e){t.setState({email:e.target.value})}})),this.state.errorView?n.a.createElement("p",{className:"text-danger"},this.state.emailError):null),n.a.createElement("div",null,n.a.createElement("p",null,"Password:"),n.a.createElement(M.a,{className:"input-wrap"},n.a.createElement(T.a,{type:"password",className:"mb-3",placeholder:"Enter password",onChange:function(e){t.setState({password:e.target.value})}})),this.state.errorView?n.a.createElement("p",{className:"text-danger"},this.state.passwordError):null),this.state.errorView?n.a.createElement("p",{className:"text-danger"},this.state.generalError):null,n.a.createElement("p",{className:"text-success"},null===(e=this.props.location)||void 0===e?void 0:e.state),n.a.createElement(C.a,{variant:"primary",onClick:this.login},"Submit"))))}}]),a}(n.a.Component))||i)||i,$=Object(S.f)(J),z=Object(V.b)("store")(l=Object(V.c)(l=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.getProfile()}},{key:"getProfile",value:function(){var e=Object(D.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.store.profileStore.setProfile();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),this.props.history.push("/login");case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,r,s,o=this.props.store;return n.a.createElement(P.a,null,n.a.createElement(I.a,{className:"m-t-120"},n.a.createElement(A.a,{md:"6"},n.a.createElement("img",{className:"coach"===(null===(e=o.profileStore.user)||void 0===e?void 0:e.role.name)?"profile-main-coach-pic":"profile-main-athlete-pic"})),n.a.createElement(A.a,{md:"6",className:"profile-info"},n.a.createElement("h3",null,null===(t=o.profileStore.user)||void 0===t?void 0:t.name),n.a.createElement("p",null,"Role: ",null===(a=o.profileStore.user)||void 0===a?void 0:a.role.name),n.a.createElement("p",null,"Email: ",null===(r=o.profileStore.user)||void 0===r?void 0:r.email),n.a.createElement("p",null,"Age: ",null===(s=o.profileStore.user)||void 0===s?void 0:s.age))))}}]),a}(n.a.Component))||l)||l,H=Object(S.f)(z),K=a(83),X=a(145),Z=a(146),_=a(147),ee=Object(V.b)("store")(m=Object(V.c)(m=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e){var r;return Object(y.a)(this,a),(r=t.call(this,e)).logOut=Object(D.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=r.props.store)||void 0===t?void 0:t.profileStore.logOut();case 3:r.props.history.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),r.state={authGeneralNavs:[{name:"Create Program",link:"/createProgram",coach:!0},{name:"Athletes List",link:"/users/athletes",coach:!0},{name:"My Athletes",link:"/programs/users",coach:!0}]},r}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.getProfile()}},{key:"getProfile",value:function(){var e=Object(D.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.props.store)||void 0===t?void 0:t.profileStore.setProfile();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this.props.store,r=n.a.createElement("span",null,n.a.createElement(X.a.Item,null,n.a.createElement(N.b,{to:"/login"},"Sign In")),n.a.createElement(X.a.Item,null,n.a.createElement(N.b,{to:"/registration"},"Sign Out"))),s=n.a.createElement("span",null,n.a.createElement(N.b,{to:"/profile",className:"dropdown-item",role:"button"},null===a||void 0===a||null===(e=a.profileStore.user)||void 0===e?void 0:e.name),n.a.createElement(X.a.Divider,null),n.a.createElement(X.a.Item,{onClick:this.logOut},"Log Out")),o=n.a.createElement(N.b,{to:"/programs",className:"nav-link",key:"programs"},"My Programs"),c=this.state.authGeneralNavs.map((function(e,t){return n.a.createElement(N.b,{to:e.link,className:"nav-link",key:e.name},e.name)})),i="coach"===(null===a||void 0===a||null===(t=a.profileStore.user)||void 0===t?void 0:t.role.name)?[].concat(Object(K.a)(c),[o]):o;return n.a.createElement(Z.a,{collapseOnSelect:!0,expand:"sm",bg:"dark",variant:"dark",className:"navbar-wrap"},n.a.createElement(N.b,{to:"/",className:"navbar-brand"},"Fitnes App"),n.a.createElement(Z.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),n.a.createElement(Z.a.Collapse,{id:"responsive-navbar-nav"},n.a.createElement(_.a,{className:"mr-auto"},(null===a||void 0===a?void 0:a.profileStore.isAuth)?i:null),n.a.createElement(_.a,null,n.a.createElement(X.a,{title:(null===a||void 0===a?void 0:a.profileStore.isAuth)?"Profile":"Sign In/Out",id:"collasible-nav-dropdown"},(null===a||void 0===a?void 0:a.profileStore.isAuth)?s:r))))}}]),a}(n.a.Component))||m)||m,te=Object(S.f)(ee),ae=function(e){return n.a.createElement(A.a,{md:5,className:"program-list"},n.a.createElement(N.b,{to:"/programs/".concat(e.program.id),className:"list-link"},n.a.createElement("div",{className:"list-box"},n.a.createElement("div",{className:"align-verical"},n.a.createElement("img",{className:"program-icon"}),n.a.createElement("span",null,e.countList,". ",e.program.name)))))},re=Object(V.b)("store")(u=Object(V.c)(u=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.setPrograms()}},{key:"setPrograms",value:function(){var e=Object(D.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.store.programStore.clear();case 3:return e.next=5,this.props.store.programStore.setPrograms();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),this.props.history.push("/login");case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.store;return n.a.createElement(P.a,{className:"m-t-70"},n.a.createElement(I.a,null,n.a.createElement(A.a,{md:12},n.a.createElement("h3",{className:"m-b-30"},"Your programs:"),e.programStore.programs.length>0?e.programStore.programs.map((function(e,t){return n.a.createElement(ae,{key:t,program:e,countList:++t})})):n.a.createElement("p",null,"You dont have programs"))))}}]),a}(n.a.Component))||u)||u,ne=Object(S.f)(re),se=Object(V.b)("store")(p=Object(V.c)(p=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e){var r;return Object(y.a)(this,a),(r=t.call(this,e)).createProgram=Object(D.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.validation(),e.next=4,r.props.store.programStore.createProgram(r.state.name);case 4:t=e.sent,r.props.history.push("/programs/".concat(t.data.id)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),401===e.t0.code&&r.props.history.push("/login"),(e.t0.code||e.t0.field)&&r.setState({errorBody:e.t0.body,errorView:!0}),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])}))),r.state={name:"",errorBody:"",errorView:!1},r}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.store.profileStore.isAuthAndCoach()||this.props.history.push("/profile")}},{key:"validation",value:function(){if(this.state.name.length<3)throw new R('"name" is not allowed to be empty',"name")}},{key:"render",value:function(){var e=this;return n.a.createElement(P.a,null,n.a.createElement(I.a,{className:"justify-content-center m-t-120"},n.a.createElement(A.a,{md:6},n.a.createElement("h3",{className:"new-program-title"},"New Program"),n.a.createElement("img",{className:"program-icon"}),n.a.createElement("div",{className:"m-b-30 m-t-50"},n.a.createElement("p",null,"Name:"),n.a.createElement(M.a,{className:"edit-program-input"},n.a.createElement(T.a,{className:"mb-3 edit-program-input",placeholder:"Enter name of program",onChange:function(t){e.setState({name:t.target.value})}})),this.state.errorView?n.a.createElement("p",{className:"text-danger"},this.state.errorBody):null),n.a.createElement(C.a,{variant:"primary",onClick:this.createProgram},"Create"))))}}]),a}(n.a.Component))||p)||p,oe=Object(S.f)(se),ce=function(e){return n.a.createElement(A.a,{md:4,className:"exercise-list-container"},n.a.createElement("div",{className:"exercise-box"},n.a.createElement("img",{className:"exercise-icon"}),n.a.createElement("h5",{className:"inline"},e.name),n.a.createElement("div",{className:"exercise-info"},n.a.createElement("small",null,n.a.createElement("span",{className:"bold-text"},"Category:")," ",e.category),n.a.createElement("small",null," ",n.a.createElement("span",{className:"bold-text"},"Quantity:")," x",e.quantity))))},ie=Object(V.b)("store")(d=Object(V.c)(d=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).backToProgramsList=function(){e.props.history.push("/programs")},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=Object(D.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.store.currentProgramStore.clear();case 3:return e.next=5,this.props.store.currentProgramStore.getProgram(parseInt(this.props.match.params.id));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log({error:e.t0}),401===e.t0.code?this.props.history.push("/login"):404===e.t0.code?this.props.history.push("/notFound"):403===e.t0.code&&this.props.history.push("/profile");case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.store.currentProgramStore.program,r=this.props.store.profileStore.user,s=n.a.createElement(I.a,null,n.a.createElement(A.a,{md:12},n.a.createElement("h4",{className:"m-b-30"},"Exercises:"),a.exercises.length>0?a.exercises.map((function(e,t){return n.a.createElement(ce,{quantity:e.quantity,name:e.name,id:e.id,category:e.category.name,key:t})})):n.a.createElement("p",null,"Program doesn't have exercises"))),o="coach"===(null===r||void 0===r||null===(e=r.role)||void 0===e?void 0:e.name)?n.a.createElement(C.a,{className:"float-r m-t-30",variant:"primary",onClick:function(){return t.props.history.push("/programs/".concat(a.id,"/edit"))}},"Edit"):null,c=n.a.createElement("div",null,n.a.createElement("h3",null,a.name),n.a.createElement("p",{className:"t-a-just m-t-30"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo, enim odit pariatur vitae beatae sint esse quam. Enim eligendi facere pariatur aliquam quas maxime vitae assumenda magnam eum, porro tenetur."),o);return n.a.createElement(P.a,{className:"m-t-30"},a.id?n.a.createElement(I.a,null,n.a.createElement(A.a,{md:12,className:"m-b-50"},n.a.createElement(C.a,{variant:"primary",onClick:this.backToProgramsList},"Back")),n.a.createElement(A.a,{md:7},c),n.a.createElement(A.a,{md:5,className:"t-a-cen"},n.a.createElement("img",{className:"program-main-img"})),n.a.createElement(A.a,{md:12},s)):n.a.createElement("p",null,"Loading..."))}}]),a}(n.a.Component))||d)||d,le=Object(S.f)(ie),me=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"404"))},ue=Object(V.b)("store")(h=Object(V.c)(h=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).deleteExercise=Object(D.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(a=e.props.store)||void 0===a?void 0:a.currentProgramStore.deleteExercise([e.props.id]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log({error:t.t0});case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e}return Object(O.a)(a,[{key:"render",value:function(){return n.a.createElement(A.a,{md:12,className:"exercise-list-container"},n.a.createElement("div",{className:"exercise-box"},n.a.createElement("img",{className:"exercise-icon"}),n.a.createElement("h5",{className:"inline"},this.props.name),n.a.createElement(C.a,{variant:"danger",onClick:this.deleteExercise},"Unassign"),n.a.createElement("div",{className:"exercise-info"},n.a.createElement("small",null,n.a.createElement("span",{className:"bold-text"},"Category:")," ",this.props.category),n.a.createElement("small",null," ",n.a.createElement("span",{className:"bold-text"},"Quantity:")," x",this.props.quantity))))}}]),a}(n.a.Component))||h)||h,pe=Object(V.b)("store")(g=Object(V.c)(g=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).addExercise=Object(D.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(a=e.props.store)||void 0===a?void 0:a.currentProgramStore.addExercise([e.props.id]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log({error:t.t0});case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e}return Object(O.a)(a,[{key:"render",value:function(){return n.a.createElement(A.a,{md:12,className:"exercise-list-container"},n.a.createElement("div",{className:"exercise-box"},n.a.createElement("img",{className:"exercise-icon"}),n.a.createElement("h5",{className:"inline"},this.props.name),n.a.createElement(C.a,{variant:"success",onClick:this.addExercise},"Assing"),n.a.createElement("div",{className:"exercise-info"},n.a.createElement("small",null,n.a.createElement("span",{className:"bold-text"},"Category:")," ",this.props.category),n.a.createElement("small",null," ",n.a.createElement("span",{className:"bold-text"},"Quantity:")," x",this.props.quantity))))}}]),a}(n.a.Component))||g)||g,de=Object(V.b)("store")(f=Object(V.c)(f=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e){var r;return Object(y.a)(this,a),(r=t.call(this,e)).updateProgram=Object(D.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.validation(),console.log(1),e.next=5,r.props.store.currentProgramStore.editProgram(r.state.newName);case 5:r.setState({errorView:!1,successBody:"The name of program has been updated",successView:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),401===e.t0.code?r.props.history.push("/login"):403===e.t0.code&&r.props.history.push("/profile"),(e.t0.field||e.t0.body)&&r.setState({errorBody:e.t0.body,errorView:!0,successView:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),r.backToProrgramPage=function(){r.props.history.push("/programs/".concat(r.props.store.currentProgramStore.program.id))},r.state={newName:"",errorBody:"",errorView:!1,successBody:"",successView:!1},r}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.getProgramAndEExercises()}},{key:"validation",value:function(){if(this.state.newName.length<3)throw new R('"name" is not allowed to be empty',"newName")}},{key:"getProgramAndEExercises",value:function(){var e=Object(D.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.store.currentProgramStore.clear();case 3:return e.next=5,this.props.store.currentProgramStore.getProgram(parseInt(this.props.match.params.id));case 5:return e.next=7,this.props.store.exerciseStore.getExercises();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({error:e.t0}),401===e.t0.code?this.props.history.push("/login"):404===e.t0.code?this.props.history.push("/notFound"):403===e.t0.code&&this.props.history.push("/profile");case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.store.currentProgramStore.program,a=this.props.store.exerciseStore,r=n.a.createElement(A.a,{md:5},n.a.createElement("h4",{className:"m-b-30"},"Program's Exercises:"),t.exercises.length>0?t.exercises.map((function(e,t){return n.a.createElement(ue,{quantity:e.quantity,name:e.name,id:e.id,category:e.category.name,key:t})})):n.a.createElement("p",null,"Program doesn't have exercises")),s=n.a.createElement(A.a,{md:5},n.a.createElement("h4",{className:"m-b-30"},"Available Exercises"),a.getAvailable().map((function(e,t){return n.a.createElement(pe,{quantity:e.quantity,key:t,name:e.name,id:e.id,category:e.category.name})}))),o=this.state.errorView?n.a.createElement("p",{className:"text-danger"},this.state.errorBody.replace("newFields.name","name")):null,c=this.state.successView?n.a.createElement("p",{className:"text-success"},this.state.successBody):null,i=n.a.createElement(A.a,{md:12,className:"m-t-70 m-b-50"},n.a.createElement(I.a,{className:"justify-content-between"},r,s));return n.a.createElement(P.a,{className:"m-t-30"},t.id?n.a.createElement(I.a,null,n.a.createElement(A.a,{md:12,className:"m-b-50"},n.a.createElement(C.a,{variant:"primary",onClick:this.backToProrgramPage},"Back")),n.a.createElement(A.a,{md:6},n.a.createElement("h3",null,t.name),n.a.createElement("p",{className:"m-t-50"},"Edit Name"),n.a.createElement(M.a,{className:"edit-program-input"},n.a.createElement(T.a,{className:"mb-3 edit-program-input",placeholder:"Enter new name",onChange:function(t){e.setState({newName:t.target.value})}})),n.a.createElement("div",null,o,c),n.a.createElement(C.a,{variant:"primary",onClick:this.updateProgram},"Update")),n.a.createElement(A.a,{md:6,className:"t-a-cen"},n.a.createElement("img",{className:"program-main-img"})),i):null)}}]),a}(n.a.Component))||f)||f,he=Object(S.f)(de),ge=a(17),fe=a.n(ge),ve=function(e,t){return fe.a.post("/api/auth/login",{email:e,password:t})},be=Object(V.b)("store")(v=Object(V.c)(v=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e){var r;return Object(y.a)(this,a),(r=t.call(this,e)).handleInputs=function(e){var t=Object(B.a)({},e.target.name,e.target.value);r.setState(t)},r.registration=Object(D.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.validate();case 3:return e.next=5,(n={name:r.state.name,email:r.state.email,password:r.state.password,age:r.state.age}).roleId=1,fe.a.post("/api/auth/registration",n);case 5:r.props.history.push({pathname:"/login",state:"Now you can sign in with email: ".concat(r.state.email)}),e.next=24;break;case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=16;break}return e.next=13,r.clearErrors();case 13:r.setState({errorView:!0,generalError:e.t0.response.data.message}),e.next=24;break;case 16:if(!e.t0.field){e.next=23;break}return t={},Object(B.a)(t,e.t0.field,e.t0.body.toString()),Object(B.a)(t,"errorView",!0),a=t,e.next=20,r.clearErrors();case 20:r.setState(a),e.next=24;break;case 23:console.log(e.t0);case 24:case"end":return e.stop()}var n}),e,null,[[0,8]])}))),r.state={email:"",password:"",confirmPassword:"",name:"",age:0,ageError:"",nameError:"",emailError:"",passwordError:"",generalError:"",errorView:!1},r}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.store.profileStore.isAuth&&this.props.history.push("/profile")}},{key:"clearErrors",value:function(){var e=Object(D.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({ageError:"",nameError:"",emailError:"",passwordError:"",generalError:""});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(){var e=Object(D.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=G.a.object({name:G.a.string().min(3).max(50).required(),age:G.a.number().integer().min(18).required().max(100),email:G.a.string().email({tlds:{allow:!1}}).min(5).max(100).required(),password:G.a.string().min(8).max(30).required(),confirmPassword:G.a.string().min(8).max(30).required().valid(G.a.ref("password")).error((function(e){return new Error("Your password and confirmation password do not match")}))}),e.next=4,t.validateAsync({name:this.state.name,age:this.state.age,confirmPassword:this.state.confirmPassword,email:this.state.email,password:this.state.password});case 4:e.next=23;break;case 6:if(e.prev=6,e.t0=e.catch(0),!e.t0.toString().includes("email")){e.next=12;break}throw new R(e.t0.toString(),"emailError");case 12:if(!e.t0.toString().includes("password")){e.next=16;break}throw new R(e.t0.toString(),"passwordError");case 16:if(!e.t0.toString().includes("age")){e.next=20;break}throw new R(e.t0.toString(),"ageError");case 20:if(!e.t0.toString().includes("name")){e.next=22;break}throw new R(e.t0.toString(),"nameError");case 22:throw new R(e.t0,"generalError");case 23:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(P.a,null,n.a.createElement(I.a,{className:"justify-content-center m-t-120"},n.a.createElement(A.a,{md:12},n.a.createElement("h4",{className:"m-b-50"},"Sign Out:")),n.a.createElement(A.a,{md:6},n.a.createElement("div",null,n.a.createElement("p",null,"Name:"),n.a.createElement(M.a,{className:"input-wrap"},n.a.createElement(T.a,{name:"name",type:"text",className:"mb-3",placeholder:"Enter name",value:this.state.name,onChange:this.handleInputs})),this.state.errorView?n.a.createElement("p",{className:"text-danger"},this.state.nameError):null),n.a.createElement("div",null,n.a.createElement("p",null,"Email:"),n.a.createElement(M.a,{className:"input-wrap"},n.a.createElement(T.a,{name:"email",type:"text",className:"mb-3",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputs})),this.state.errorView?n.a.createElement("p",{className:"text-danger"},this.state.emailError):null),n.a.createElement("div",null,n.a.createElement("p",null,"Age:"),n.a.createElement(M.a,{className:"input-wrap"},n.a.createElement(T.a,{name:"age",type:"number",className:"mb-3",placeholder:"Enter age",value:this.state.age,onChange:this.handleInputs})),this.state.errorView?n.a.createElement("p",{className:"text-danger"},this.state.ageError):null)),n.a.createElement(A.a,{md:6},n.a.createElement("div",null,n.a.createElement("p",null,"Password:"),n.a.createElement(M.a,{className:"input-wrap"},n.a.createElement(T.a,{name:"password",type:"password",className:"mb-3",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputs}))),n.a.createElement("div",null,n.a.createElement("p",null,"Confirm password:"),n.a.createElement(M.a,{className:"input-wrap"},n.a.createElement(T.a,{name:"confirmPassword",type:"password",className:"mb-3",placeholder:"Enter password again",value:this.state.confirmPassword,onChange:this.handleInputs})),this.state.errorView?n.a.createElement("p",{className:"text-danger"},this.state.passwordError):null),n.a.createElement("div",null,this.state.errorView?n.a.createElement("p",{className:"text-danger"},this.state.generalError):null),n.a.createElement(C.a,{variant:"primary",onClick:this.registration},"Sign Out"))))}}]),a}(n.a.Component))||v)||v,Ee=Object(S.f)(be),xe=Object(V.b)("store")(b=Object(V.c)(b=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.setUsers()}},{key:"setUsers",value:function(){var e=Object(D.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.store.usersStore.clear();case 3:return e.next=5,this.props.store.usersStore.getCoachUsers();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),401===e.t0.code?this.props.history.push("/login"):403===e.t0.code&&this.props.history.push("/profile");case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.store.usersStore;return n.a.createElement(P.a,{className:"m-t-30"},n.a.createElement(I.a,null,n.a.createElement(A.a,{md:7},n.a.createElement("h3",null,"List of users with your programs:"),e.users.length>0?e.users.map((function(e,t){return n.a.createElement(A.a,{md:12,className:"user-list-col"},n.a.createElement(N.b,{to:"/users/".concat(e.id),key:t,className:"list-link"},n.a.createElement("div",{className:"user-list-item"},n.a.createElement("div",{className:"align-verical"},n.a.createElement("img",{className:"athelete-list-icon"}),n.a.createElement("span",null,"".concat(++t,". ").concat(e.name))))))})):n.a.createElement("p",null,"There are no users with your programs"))))}}]),a}(n.a.Component))||b)||b,we=Object(S.f)(xe),ye=Object(V.b)("store")(E=Object(V.c)(E=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).unassignProgram=Object(D.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(a=e.props.store)||void 0===a?void 0:a.currentUserStore.unassignProgram(e.props.id);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log({error:t.t0});case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e}return Object(O.a)(a,[{key:"render",value:function(){return n.a.createElement(A.a,{md:12,className:"program-list"},n.a.createElement("div",{className:"list-program-box"},n.a.createElement("span",{className:"list-program-title"},this.props.name),n.a.createElement("img",{className:"program-icon float-r"}),n.a.createElement("div",null,n.a.createElement(C.a,{variant:"danger",className:"m-t-15",onClick:this.unassignProgram},"Unassign"))))}}]),a}(n.a.Component))||E)||E,Oe=Object(V.b)("store")(x=Object(V.c)(x=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).assignProgram=Object(D.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(a=e.props.store)||void 0===a?void 0:a.currentUserStore.assignProgram(e.props.id);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log({error:t.t0});case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e}return Object(O.a)(a,[{key:"render",value:function(){return n.a.createElement(A.a,{md:12,className:"program-list"},n.a.createElement("div",{className:"list-program-box"},n.a.createElement("span",{className:"list-program-title"},this.props.name),n.a.createElement("img",{className:"program-icon float-r"}),n.a.createElement("div",null,n.a.createElement(C.a,{variant:"success",className:"m-t-15",onClick:this.assignProgram},"Assign"))))}}]),a}(n.a.Component))||x)||x,je=Object(V.b)("store")(w=Object(V.c)(w=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).backToUsersList=function(){e.props.history.push("/users/athletes")},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=Object(D.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.store.currentUserStore.clear();case 3:return e.next=5,this.props.store.programStore.clear();case 5:return e.next=7,this.props.store.currentUserStore.getUser(parseInt(this.props.match.params.id));case 7:return e.next=9,this.props.store.programStore.setPrograms();case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log({error:e.t0}),401===e.t0.code?this.props.history.push("/login"):404===e.t0.code?this.props.history.push("/notFound"):403===e.t0.code&&this.props.history.push("/profile");case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.props.store.currentUserStore.user,a=this.props.store.programStore,r=n.a.createElement("div",null,n.a.createElement("h3",{className:"m-b-30"},t.name),n.a.createElement("p",null,"Age ",t.age),n.a.createElement("p",null,"Email: ",t.email)),s=n.a.createElement(A.a,{md:5},n.a.createElement("h4",null,"User's Programs:"),null===(e=t.programs)||void 0===e?void 0:e.map((function(e,t){return n.a.createElement(ye,{key:t,name:e.name,id:e.id})}))),o=n.a.createElement(A.a,{md:5},n.a.createElement("h4",null,"Available Programs:"),a.programsThatNotAssign().map((function(e,t){return n.a.createElement(Oe,{id:e.id,name:e.name,key:t})}))),c=n.a.createElement(P.a,{className:"m-t-30"},n.a.createElement(I.a,null,n.a.createElement(A.a,{md:12,className:"m-b-50"},n.a.createElement(C.a,{variant:"primary",onClick:this.backToUsersList}," ","Back")),n.a.createElement(A.a,{md:6},r),n.a.createElement(A.a,{md:6},n.a.createElement("img",{className:"profile-main-athlete-pic float-r"})),n.a.createElement(A.a,{md:12,className:"m-t-70 m-b-50"},n.a.createElement(I.a,{className:"justify-content-between"},s," ",o))));return n.a.createElement("div",null,t.id>0?c:n.a.createElement("p",null,"Loading..."))}}]),a}(n.a.Component))||w)||w,ke=Object(S.f)(je),Ne=function(e,t){return fe.a.patch("/api/users/unAssignProgram",{userId:e,programId:t})},Se=function(e,t){return fe.a.patch("/api/users/assignProgram",{userId:e,programId:t})},Pe=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e){var r;return Object(y.a)(this,a),(r=t.call(this,e)).state={users:[]},r}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=Object(D.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.a.get("/api/users/athletes");case 3:t=e.sent,a=(a=t.data).map((function(e){return e.programs=[],e})),this.setState({users:a}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),401===e.t0.response.status?this.props.history.push("/login"):403===e.t0.response.status&&this.props.history.push("/profile");case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(P.a,{className:"m-t-30"},n.a.createElement(I.a,null,n.a.createElement(A.a,{md:7},n.a.createElement("h3",{className:"m-b-20"},"List of Athletes:"),n.a.createElement(I.a,null,this.state.users.map((function(e,t){return n.a.createElement(A.a,{md:12,className:"user-list-col"},n.a.createElement(N.b,{to:"/users/".concat(e.id),key:t,className:"list-link"},n.a.createElement("div",{className:"user-list-item"},n.a.createElement("div",{className:"align-verical"},n.a.createElement("img",{className:"athelete-list-icon"}),n.a.createElement("span",null,"".concat(++t,". ").concat(e.name))))))}))))))}}]),a}(n.a.Component),Ae=Object(S.f)(Pe),Ce=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return n.a.createElement(P.a,{fluid:!0,className:"wrap"},n.a.createElement(N.a,null,n.a.createElement(te,null),n.a.createElement(S.c,null,n.a.createElement(S.a,{path:"/",exact:!0,component:U}),n.a.createElement(S.a,{path:"/login",exact:!0,component:$}),n.a.createElement(S.a,{path:"/registration",exact:!0,component:Ee}),n.a.createElement(S.a,{path:"/profile",exact:!0,component:H}),n.a.createElement(S.a,{path:"/users/athletes",exact:!0,component:Ae}),n.a.createElement(S.a,{path:"/users/:id",exact:!0,component:ke}),n.a.createElement(S.a,{path:"/programs",exact:!0,component:ne}),n.a.createElement(S.a,{path:"/programs/users",exact:!0,component:we}),n.a.createElement(S.a,{path:"/programs/:id/edit",exact:!0,component:he}),n.a.createElement(S.a,{path:"/programs/:id",exact:!0,component:le}),n.a.createElement(S.a,{path:"/createProgram",exact:!0,component:oe}),n.a.createElement(S.a,{path:"/notFound",exact:!0,component:me}),n.a.createElement(S.a,{path:"*",exact:!0,component:me}))))}}]),a}(n.a.Component),Ie=(a(132),a(133),a(3)),Ve=function(e){return fe.a.post("/api/programs",{name:e})},qe=function(e,t){return fe.a.patch("/api/programs/addExercises",{exercisesIds:e,id:t})},Ue=function(e,t){return fe.a.patch("/api/programs/removeExercises",{id:t,exercisesIds:e})},Le=Ie.e.model("Category",{id:Ie.e.integer,name:Ie.e.string}),Fe=Ie.e.model("Exercise",{id:Ie.e.integer,name:Ie.e.string,quantity:Ie.e.integer,category:Le}),Be=Ie.e.model("Program",{id:Ie.e.integer,name:Ie.e.string,exercises:Ie.e.array(Fe)}).actions((function(e){return{setFields:function(t){e.name=t.name,e.id=t.id,e.exercises=t.exercises},setExercises:function(t){e.exercises=Object(Ie.a)(t)},setName:function(t){e.name=t}}})),De=Ie.e.model("ProgramStore",{programs:Ie.e.array(Be)}).actions((function(e){return{setPrograms:Object(Ie.b)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("/api/auth/profile/programs");case 3:a=t.sent,e.programs=a.data,t.next=13;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=12;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 12:throw t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,7]])}))),createProgram:Object(Ie.b)(F.a.mark((function t(a){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ve(a);case 3:return r=t.sent,t.abrupt("return",r);case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=12;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 12:throw t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,7]])}))),clear:function(){e.programs=Object(Ie.a)([])}}})).views((function(e){return{programsThatNotAssign:function(){return e.programs.filter((function(t){return!Object(Ie.c)(e).currentUserStore.user.programs.some((function(e){return t.id===e.id}))}))}}})),Me=Ie.e.model("ExerciseStore",{exercises:Ie.e.optional(Ie.e.array(Fe),[])}).actions((function(e){return{getExercises:Object(Ie.b)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("/api/exercises");case 3:a=t.sent,e.exercises=a.data,t.next=13;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=12;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 12:throw t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,7]])})))}})).views((function(e){return{getAvailable:function(){return e.exercises.filter((function(t){return!Object(Ie.c)(e).currentProgramStore.program.exercises.some((function(e){return t.id===e.id}))}))}}})),Te=Ie.e.model("Role",{id:Ie.e.integer,name:Ie.e.string}),We=Ie.e.model("user",{id:Ie.e.integer,name:Ie.e.string,email:Ie.e.string,age:Ie.e.maybeNull(Ie.e.integer),role:Te,programs:Ie.e.optional(Ie.e.array(Be),[])}).actions((function(e){return{setFields:function(t){e.email=t.email,e.name=t.name,e.age=t.age,e.id=t.id,e.role=t.role},setFieldsWithPrograms:function(t){e.email=t.email,e.name=t.name,e.age=t.age,e.id=t.id,e.role=t.role,e.programs=t.programs}}})),Qe=Ie.e.model("usersStore",{users:Ie.e.optional(Ie.e.array(We),[])}).actions((function(e){return{getCoachUsers:Object(Ie.b)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("/api/auth/profile/users");case 3:a=t.sent,e.users=a.data,t.next=13;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=12;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 12:throw t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,7]])}))),clear:function(){e.users=Object(Ie.a)([])}}})),Re={id:0,name:"",email:"",role:{id:0,name:""}},Ye=Ie.e.model("ProfileStore",{user:Ie.e.maybeNull(We),isAuth:Ie.e.boolean}).actions((function(e){var t=function(){e.isAuth=!1,e.user=Object(Ie.a)(Re)},a=Object(Ie.b)(F.a.mark((function t(a,r){var n,s,o,c,i,l,m,u;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve(a,r);case 3:s=t.sent,console.log(s),o=s.data,c=o.name,i=o.email,l=o.age,m=o.id,u=o.role,null===(n=e.user)||void 0===n||n.setFields({name:c,email:i,age:l,id:m,role:u}),e.isAuth=!0,t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(0),!t.t0.response){t.next=15;break}throw e.isAuth=!1,new Q(t.t0.response.data.message,t.t0.response.status);case 15:throw t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,10]])}))),r=Object(Ie.b)(F.a.mark((function t(){var a,r,n,s,o,c,i,l;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("/api/auth/profile");case 3:r=t.sent,n=r.data,s=n.name,o=n.email,c=n.age,i=n.id,l=n.role,null===(a=e.user)||void 0===a||a.setFields({name:s,email:o,age:c,id:i,role:l}),e.isAuth=!0,t.next=15;break;case 9:if(t.prev=9,t.t0=t.catch(0),e.isAuth=!1,!t.t0.response){t.next=14;break}throw new Q(t.t0.response.data.message,t.t0.response.status);case 14:throw t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,9]])}))),n=Object(Ie.b)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.a.post("/api/auth/logout");case 3:t(),e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(0),!e.t0.response){e.next=10;break}throw new Q(e.t0.response.data.message,e.t0.response.status);case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return{setLogin:a,setProfile:r,setIsAuth:function(t){e.isAuth=t},cleanAuthData:t,logOut:n}})).views((function(e){return{isAuthAndCoach:function(){var t;return!(!e.isAuth||"coach"!==(null===(t=e.user)||void 0===t?void 0:t.role.name))}}})),Ge={id:0,name:""},Je=Ie.e.model("CurrentProgramStore",{program:Be}).actions((function(e){return{clear:function(){e.program=Object(Ie.a)(Ge)},getProgram:Object(Ie.b)(F.a.mark((function t(a){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n=a,fe.a.get("/api/programs/".concat(n));case 3:r=t.sent,e.program.setFields({name:r.data.name,id:r.data.id,exercises:r.data.exercises}),t.next=13;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=12;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 12:throw t.t0;case 13:case"end":return t.stop()}var n}),t,null,[[0,7]])}))),editProgram:Object(Ie.b)(F.a.mark((function t(a){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n={id:e.program.id,newFields:{name:a}},fe.a.patch("/api/programs",n);case 3:r=t.sent,e.program.setName(r.data.name),t.next=13;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=12;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 12:throw t.t0;case 13:case"end":return t.stop()}var n}),t,null,[[0,7]])}))),deleteExercise:Object(Ie.b)(F.a.mark((function t(a){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ue(a,e.program.id);case 3:r=t.sent,e.program.setExercises(r.data.exercises),t.next=13;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=12;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 12:throw t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,7]])}))),addExercise:Object(Ie.b)(F.a.mark((function t(a){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qe(a,e.program.id);case 3:r=t.sent,e.program.setExercises(r.data.exercises),t.next=13;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=12;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 12:throw t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,7]])})))}})),$e={id:0,name:"",email:"",age:0,programs:[],role:{id:0,name:""}},ze=Ie.e.model("currentUserStore",{user:We}).actions((function(e){var t=Object(Ie.b)(F.a.mark((function t(a){var r,n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s=a,fe.a.get("/api/users/".concat(s,"/oneCoachPrograms"));case 3:r=t.sent,n=r.data,e.user.setFieldsWithPrograms(n),t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(0),!t.t0.response){t.next=13;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 13:throw t.t0;case 14:case"end":return t.stop()}var s}),t,null,[[0,8]])}))),a=Object(Ie.b)(F.a.mark((function t(a){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne(e.user.id,a);case 3:r=t.sent,r.data,e.user.programs=Object(Ie.a)(e.user.programs.filter((function(e){return e.id!==a}))),t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(0),!t.t0.response){t.next=13;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return{clear:function(){e.user=Object(Ie.a)($e)},getUser:t,assignProgram:Object(Ie.b)(F.a.mark((function t(a){var r,n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se(e.user.id,a);case 3:r=t.sent,n=r.data,e.user.programs=n.programs,t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(0),!t.t0.response){t.next=13;break}throw 401===t.t0.response.status&&Object(Ie.c)(e).profileStore.setIsAuth(!1),new Q(t.t0.response.data.message,t.t0.response.status);case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,8]])}))),unassignProgram:a}})),He=Ie.e.model("RootStore",{programStore:De,currentProgramStore:Je,currentUserStore:ze,exerciseStore:Me,profileStore:Ye,usersStore:Qe}),Ke=He.create({programStore:{programs:[]},currentProgramStore:{program:{id:0,name:""}},currentUserStore:{user:{id:0,name:"",email:"",age:0,programs:[],role:{id:0,name:""}}},exerciseStore:{exercises:[]},profileStore:{user:{id:0,name:"",email:"",role:{id:0,name:""}},isAuth:!1},usersStore:{users:[]}}),Xe=Ke;Object(Ie.d)(Xe,(function(e){console.log(e)})),o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(V.a,{store:Xe},n.a.createElement(Ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,a){e.exports=a(136)}},[[85,1,2]]]);
//# sourceMappingURL=main.6e274ecd.chunk.js.map